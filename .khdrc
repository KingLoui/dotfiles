khd void_unlisted_bind off

# MODE SWITCHERS

    alt - f :   khd -e "mode activate tiling"
    tiling - capslock :   khd -e "mode activate default"

# MODE == DEFAULT

    khd mode default on_enter chunkc set focused_border_color 0x00ffffff;chunkc border::color 0x00ffffff

    - capslock : khd -p "- escape"

    # reload config
    shift + alt - r : khd -e "reload"

    # re-map/disable quit shortcut
    cmd - q [ iTerm2, Firefox Nightly, Firefox, Google Chrome, Safari ] : khd -p "cmd - w"

    # open new terminal
    cmd - return : osascript -e 'tell application "iTerm2"' -e 'create window with default profile' -e 'end tell' || open -a /Applications/iTerm.app

    # open new finder
    cmd - 0x27 :  osascript -e 'tell application "Finder"' -e 'set myW to make new Finder window' -e 'set target of myW to home' -e 'activate' -e 'end tell'

    # open new browser
    cmd - 0x2A : osascript -e 'tell application "Safari"' -e 'make new document' -e 'activate' -e 'end tell' || open -a /Applications/Safari.app

# MODE == TILING

    khd mode tiling on_enter: chunkc set preselect_border_color 0xffffff00;chunkc set focused_border_color 0xffffff00;chunkc border::color 0xffffff00


    # equalize size of windows
    tiling + alt - 0 : chunkc tiling::desktop --equalize

    # rotate tree
    tiling + alt - r : chunkc tiling::desktop --rotate 90

    # toggle desktop offset
    tiling + alt - a : chunkc tiling::desktop --toggle offset

    # toggle window split type
    tiling + alt - space : chunkc tiling::tiling::window --toggle split

    # toggle window parent zoom
    tiling + alt - d : chunkc tiling::window --toggle parent

    # float / unfloat window
    tiling + alt - t : chunkc tiling::window --toggle float

    # toggle sticky, float and resize to picture-in-picture size
    tiling + alt - s : chunkc tiling::window --toggle sticky;\
              chunkc tiling::window --warp-floating pip-right

    # toggle window fullscreen
    tiling + alt - f : chunkc tiling::window --toggle fullscreen

    # toggle window native fullscreen
    tiling + shift + alt - return : chunkc tiling::window --toggle native-fullscreen

    # focus window
    tiling - h  : chunkc tiling::window --focus west
    tiling - j  : chunkc tiling::window --focus south
    tiling - k  : chunkc tiling::window --focus north
    tiling - l  : chunkc tiling::window --focus east

    # move window
    tiling + cmd - h  : chunkc tiling::window --warp west
    tiling + cmd - j  : chunkc tiling::window --warp south
    tiling + cmd - k  : chunkc tiling::window --warp north
    tiling + cmd - l  : chunkc tiling::window --warp east

    # swap window
    tiling + alt - h  : chunkc tiling::window --swap west
    tiling + alt - j  : chunkc tiling::window --swap south
    tiling + alt - k  : chunkc tiling::window --swap north
    tiling + alt - l  : chunkc tiling::window --swap east

    # send window to desktop
    tiling + shift + alt - 1 : chunkc tiling::window --send-to-desktop 1
    tiling + shift + alt - 2 : chunkc tiling::window --send-to-desktop 2
    tiling + shift + alt - 3 : chunkc tiling::window --send-to-desktop 3
    tiling + shift + alt - 4 : chunkc tiling::window --send-to-desktop 4
    tiling + shift + alt - 5 : chunkc tiling::window --send-to-desktop 5
    tiling + shift + alt - 6 : chunkc tiling::window --send-to-desktop 6

    # send window to desktop and switch desktop
    # @todo requires mission control shortcuts for desktop moves.
    tiling + shift + cmd - 1 : chunkc tiling::window -d 1; khd -p "ctrl - 1"
    tiling + shift + cmd - 2 : chunkc tiling::window -d 2; khd -p "ctrl - 2"
    tiling + shift + cmd - 3 : chunkc tiling::window -d 3; khd -p "ctrl - 3"
    tiling + shift + cmd - 4 : chunkc tiling::window -d 4; khd -p "ctrl - 4"
    tiling + shift + cmd - 5 : chunkc tiling::window -d 5; khd -p "ctrl - 5"
    tiling + shift + cmd - 6 : chunkc tiling::window -d 6; khd -p "ctrl - 6"

    # increase region size
    tiling + alt + cmd - h  : chunkc tiling::window --use-temporary-ratio 0.1 --adjust-window-edge west
    tiling + alt + cmd - j  : chunkc tiling::window --use-temporary-ratio 0.1 --adjust-window-edge south
    tiling + alt + cmd - k  : chunkc tiling::window --use-temporary-ratio 0.1 --adjust-window-edge north
    tiling + alt + cmd - l  : chunkc tiling::window --use-temporary-ratio 0.1 --adjust-window-edge east

    # decrease region size
    tiling + shift + cmd - l : chunkc tiling::window --use-temporary-ratio -0.1 --adjust-window-edge west
    tiling + shift + cmd - k : chunkc tiling::window --use-temporary-ratio -0.1 --adjust-window-edge south
    tiling + shift + cmd - j : chunkc tiling::window --use-temporary-ratio -0.1 --adjust-window-edge north
    tiling + shift + cmd - h : chunkc tiling::window --use-temporary-ratio -0.1 --adjust-window-edge east
